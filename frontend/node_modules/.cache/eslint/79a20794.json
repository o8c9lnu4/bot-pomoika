[{"C:\\Users\\Admin\\Desktop\\pomoika vape lab\\frontend\\src\\main.js":"1","C:\\Users\\Admin\\Desktop\\pomoika vape lab\\frontend\\src\\App.vue":"2","C:\\Users\\Admin\\Desktop\\pomoika vape lab\\frontend\\src\\plugins\\vuetify.js":"3","C:\\Users\\Admin\\Desktop\\pomoika vape lab\\frontend\\src\\router\\index.js":"4","C:\\Users\\Admin\\Desktop\\pomoika vape lab\\frontend\\src\\views\\PostDetail.vue":"5","C:\\Users\\Admin\\Desktop\\pomoika vape lab\\frontend\\src\\views\\PostList.vue":"6"},{"size":1070,"mtime":1757531080564,"results":"7","hashOfConfig":"8"},{"size":3554,"mtime":1757374646857,"results":"9","hashOfConfig":"8"},{"size":466,"mtime":1757350269750,"results":"10","hashOfConfig":"8"},{"size":472,"mtime":1754232464000,"results":"11","hashOfConfig":"8"},{"size":4292,"mtime":1756587783273,"results":"12","hashOfConfig":"8"},{"size":5890,"mtime":1757374643939,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1td1gjo",{"filePath":"16","messages":"17","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"18","messages":"19","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"20","messages":"21","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"22","messages":"23","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24"},{"filePath":"25","messages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27"},"C:\\Users\\Admin\\Desktop\\pomoika vape lab\\frontend\\src\\main.js",[],"C:\\Users\\Admin\\Desktop\\pomoika vape lab\\frontend\\src\\App.vue",[],"C:\\Users\\Admin\\Desktop\\pomoika vape lab\\frontend\\src\\plugins\\vuetify.js",[],"C:\\Users\\Admin\\Desktop\\pomoika vape lab\\frontend\\src\\router\\index.js",[],"C:\\Users\\Admin\\Desktop\\pomoika vape lab\\frontend\\src\\views\\PostDetail.vue",["28"],"<template>\n  <div>\n    <v-container class=\"py-8\">\n      <v-row>\n        <v-col cols=\"12\">\n          <v-btn\n            text\n            color=\"black\"\n            to=\"/\"\n            class=\"mb-8 text-capitalize\"\n            flat\n          >\n            ← Назад\n          </v-btn>\n        </v-col>\n      </v-row>\n\n      <v-row v-if=\"loading\" justify=\"center\" align=\"center\" style=\"min-height: 400px;\">\n        <v-col cols=\"auto\">\n          <v-progress-circular\n            indeterminate\n            color=\"black\"\n            size=\"32\"\n          ></v-progress-circular>\n        </v-col>\n      </v-row>\n\n      <template v-else-if=\"post\">\n        <v-row>\n          <v-col cols=\"12\" lg=\"8\" class=\"mx-auto\">\n            <article>\n              <!-- Заголовок -->\n              <header class=\"mb-8\">\n                <h1 class=\"text-h2 font-weight-light black--text mb-4\">{{ post.title }}</h1>\n                <div class=\"d-flex align-center\">\n                  <span class=\"text-body-2 grey--text\">{{ formatDate(post.published_date) }}</span>\n                  <v-divider vertical class=\"mx-4\"></v-divider>\n                  <span class=\"text-body-2 grey--text\">{{ getReadingTime() }} мин. чтения</span>\n                </div>\n              </header>\n\n              <!-- Содержание -->\n              <div class=\"post-content\">\n                <div class=\"text-body-1 grey--text text--darken-2\">{{ post.content }}</div>\n              </div>\n\n              <!-- Действия -->\n              <footer class=\"mt-8 pt-4 border-top\">\n                <v-btn\n                  text\n                  color=\"black\"\n                  @click=\"sharePost\"\n                  class=\"text-capitalize\"\n                >\n                  Поделиться\n                </v-btn>\n              </footer>\n            </article>\n          </v-col>\n        </v-row>\n      </template>\n\n      <v-row v-else justify=\"center\">\n        <v-col cols=\"12\" sm=\"8\" md=\"6\" class=\"mx-auto\">\n          <v-card\n            class=\"text-center pa-6\"\n            flat\n          >\n            <h2 class=\"text-h5 font-weight-light mb-2 black--text\">\n              Пост не найден\n            </h2>\n            <p class=\"text-body-1 grey--text mb-4\">\n              Возможно, он был удален или перемещен.\n            </p>\n            <v-btn\n              color=\"black\"\n              to=\"/\"\n              class=\"text-capitalize\"\n              outlined\n            >\n              Вернуться на главную\n            </v-btn>\n          </v-card>\n        </v-col>\n      </v-row>\n    </v-container>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  name: 'PostDetail',\n  props: {\n    id: {\n      type: [String, Number],\n      required: true\n    }\n  },\n  data() {\n    return {\n      post: null,\n      loading: false\n    }\n  },\n  methods: {\n    async fetchPost() {\n      this.loading = true\n      try {\n        const response = await axios.get(`/api/posts/${this.id}/`)\n        this.post = response.data\n      } catch (error) {\n        console.error('Error fetching post:', error)\n        this.post = null\n      } finally {\n        setTimeout(() => {\n          this.loading = false\n        }, 500)\n      }\n    },\n    formatDate(date) {\n      return new Date(date).toLocaleString('ru-RU', {\n        day: '2-digit',\n        month: '2-digit',\n        year: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      })\n    },\n    getReadingTime() {\n      if (!this.post?.content) return 1\n      const words = this.post.content.trim().split(/\\s+/).length\n      return Math.max(1, Math.ceil(words / 200))\n    },\n    sharePost() {\n      if (navigator.share) {\n        navigator.share({\n          title: this.post.title,\n          text: this.post.content.substring(0, 100) + '...',\n          url: window.location.href\n        })\n      }\n    }\n  },\n  created() {\n    this.fetchPost()\n  }\n}\n</script>\n\n<style scoped>\n.post-content {\n  line-height: 1.8;\n  white-space: pre-line;\n}\n\n.text-h2 {\n  font-weight: 300 !important;\n  letter-spacing: -0.5px;\n}\n\n.border-top {\n  border-top: 1px solid #e0e0e0;\n}\n\n.v-progress-circular {\n  position: relative;\n}\n\n.v-card {\n  border: 1px solid #e0e0e0;\n  border-radius: 0;\n}\n</style> ","C:\\Users\\Admin\\Desktop\\pomoika vape lab\\frontend\\src\\views\\PostList.vue",["29","30","31","32"],"<template>\n  <div>\n    <v-container class=\"py-4\">\n      <!-- Компактный заголовок для мини-приложения -->\n      <v-row>\n        <v-col cols=\"12\">\n          <div class=\"mb-4\">\n            <h1 class=\"text-h5 font-weight-medium white--text mb-1\">Новости</h1>\n            <div class=\"text-caption\" style=\"color:#BDB4FF\">Последние публикации</div>\n          </div>\n        </v-col>\n      </v-row>\n\n      <!-- Компактная сетка постов для мини-приложения -->\n      <v-row>\n        <v-col v-for=\"post in posts\" :key=\"post.id\" cols=\"12\">\n          <v-hover v-slot=\"{ hover }\">\n            <v-card\n              :elevation=\"hover ? 4 : 1\"\n              :class=\"{ 'on-hover': hover }\"\n              class=\"mx-auto transition-swing post-card-mini\"\n              color=\"#151226\"\n              @click=\"goToPost(post.id)\"\n            >\n              <v-card-text class=\"pa-3\">\n                <div class=\"d-flex align-start justify-space-between mb-2\">\n                  <h3 class=\"text-subtitle-1 font-weight-medium white--text mb-1\" style=\"line-height: 1.3;\">\n                    {{ post.title }}\n                  </h3>\n                  <v-icon small style=\"color:#BB86FC\">mdi-chevron-right</v-icon>\n                </div>\n                <div class=\"text-body-2 mb-2 post-excerpt-mini\" style=\"color:#D7D2FF\">\n                  {{ post.content }}\n                </div>\n                <div class=\"text-caption\" style=\"color:#A39AE6\">\n                  {{ formatDate(post.published_date) }}\n                </div>\n              </v-card-text>\n            </v-card>\n          </v-hover>\n        </v-col>\n      </v-row>\n\n      <!-- Сообщение об отсутствии постов -->\n      <v-row v-if=\"posts.length === 0 && !loading\" class=\"mt-6\">\n        <v-col cols=\"12\" sm=\"8\" md=\"6\" class=\"mx-auto\">\n          <v-card class=\"text-center pa-6\" flat color=\"#151226\">\n            <h2 class=\"text-h5 font-weight-light mb-2 white--text\">\n              Пока нет опубликованных постов\n            </h2>\n            <p class=\"text-body-1\" style=\"color:#A39AE6\" mb-0>\n              Загляните позже\n            </p>\n          </v-card>\n        </v-col>\n      </v-row>\n\n      <!-- Пагинация -->\n      <v-row v-if=\"totalPages > 1\" class=\"mt-8\">\n        <v-col cols=\"12\" class=\"text-center\">\n          <v-pagination\n            v-model=\"currentPage\"\n            :length=\"totalPages\"\n            :total-visible=\"7\"\n            color=\"#BB86FC\"\n            class=\"custom-pagination\"\n          ></v-pagination>\n        </v-col>\n      </v-row>\n    </v-container>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  name: 'PostList',\n  data() {\n    return {\n      posts: [],\n      currentPage: 1,\n      totalPages: 1,\n      loading: false\n    }\n  },\n  methods: {\n    async fetchPosts() {\n      this.loading = true\n      try {\n        console.log('Fetching posts from:', `/api/posts/?page=${this.currentPage}`)\n        const response = await axios.get(`/api/posts/?page=${this.currentPage}`)\n        console.log('API Response:', response.data)\n        this.posts = response.data.results\n        this.totalPages = Math.ceil(response.data.count / 10)\n      } catch (error) {\n        console.error('Error fetching posts:', error)\n        console.error('Error details:', {\n          message: error.message,\n          response: error.response ? {\n            status: error.response.status,\n            data: error.response.data\n          } : 'No response',\n          config: {\n            url: error.config.url,\n            method: error.config.method,\n            baseURL: error.config.baseURL\n          }\n        })\n        // Показываем ошибку в Telegram\n        if (window.Telegram && window.Telegram.WebApp) {\n          window.Telegram.WebApp.showAlert('Ошибка загрузки данных');\n        }\n      } finally {\n        setTimeout(() => {\n          this.loading = false\n        }, 500)\n      }\n    },\n    formatDate(date) {\n      return new Date(date).toLocaleString('ru-RU', {\n        day: '2-digit',\n        month: '2-digit',\n        year: 'numeric'\n      })\n    },\n    goToPost(postId) {\n      this.$router.push({ name: 'PostDetail', params: { id: postId } });\n    }\n  },\n  watch: {\n    currentPage() {\n      this.fetchPosts()\n    }\n  },\n  created() {\n    this.fetchPosts()\n  },\n  mounted() {\n    // Слушаем событие обновления данных\n    this.$root.$on('refresh-data', () => {\n      this.fetchPosts()\n    })\n  }\n}\n</script>\n\n<style scoped>\n.post-excerpt {\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  line-height: 1.6;\n}\n\n.post-excerpt-mini {\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  line-height: 1.4;\n}\n\n.post-card {\n  transition: all 0.3s ease;\n  border: 1px solid rgba(187, 134, 252, 0.2);\n  border-radius: 12px;\n  background: #151226 !important;\n}\n\n.post-card-mini {\n  transition: all 0.2s ease;\n  border: 1px solid rgba(187, 134, 252, 0.2);\n  border-radius: 8px;\n  background: #151226 !important;\n  cursor: pointer;\n}\n\n.on-hover {\n  transform: translateY(-2px);\n  border-color: #BB86FC;\n  box-shadow: 0 4px 16px rgba(124, 77, 255, 0.15) !important;\n}\n\n.custom-pagination >>> .v-pagination__item {\n  box-shadow: none;\n  border: 1px solid rgba(187, 134, 252, 0.3);\n  border-radius: 8px;\n  background: #151226 !important;\n  color: #BB86FC !important;\n}\n\n.custom-pagination >>> .v-pagination__item--active {\n  background-color: #BB86FC !important;\n  color: #0d0b14 !important;\n}\n\n.v-card {\n  overflow: hidden;\n}\n\n.text-h2 {\n  font-weight: 300 !important;\n  letter-spacing: -0.5px;\n}\n</style> ",{"ruleId":"33","severity":1,"message":"34","line":114,"column":9,"nodeType":"35","messageId":"36","endLine":114,"endColumn":22},{"ruleId":"33","severity":1,"message":"34","line":91,"column":9,"nodeType":"35","messageId":"36","endLine":91,"endColumn":20},{"ruleId":"33","severity":1,"message":"34","line":93,"column":9,"nodeType":"35","messageId":"36","endLine":93,"endColumn":20},{"ruleId":"33","severity":1,"message":"34","line":97,"column":9,"nodeType":"35","messageId":"36","endLine":97,"endColumn":22},{"ruleId":"33","severity":1,"message":"34","line":98,"column":9,"nodeType":"35","messageId":"36","endLine":98,"endColumn":22},"no-console","Unexpected console statement.","MemberExpression","unexpected"]