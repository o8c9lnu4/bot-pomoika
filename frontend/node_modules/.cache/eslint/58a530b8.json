[{"C:\\Users\\Admin\\Desktop\\pomoika vape lab\\frontend\\src\\main.js":"1","C:\\Users\\Admin\\Desktop\\pomoika vape lab\\frontend\\src\\App.vue":"2","C:\\Users\\Admin\\Desktop\\pomoika vape lab\\frontend\\src\\plugins\\vuetify.js":"3","C:\\Users\\Admin\\Desktop\\pomoika vape lab\\frontend\\src\\router\\index.js":"4","C:\\Users\\Admin\\Desktop\\pomoika vape lab\\frontend\\src\\views\\AdminLogin.vue":"5","C:\\Users\\Admin\\Desktop\\pomoika vape lab\\frontend\\src\\views\\PostList.vue":"6","C:\\Users\\Admin\\Desktop\\pomoika vape lab\\frontend\\src\\views\\PostDetail.vue":"7","C:\\Users\\Admin\\Desktop\\pomoika vape lab\\frontend\\src\\views\\AdminLayout.vue":"8","C:\\Users\\Admin\\Desktop\\pomoika vape lab\\frontend\\src\\views\\AdminPosts.vue":"9","C:\\Users\\Admin\\Desktop\\pomoika vape lab\\frontend\\src\\views\\AdminDashboard.vue":"10","C:\\Users\\Admin\\Desktop\\pomoika vape lab\\frontend\\src\\views\\AdminUsers.vue":"11"},{"size":2006,"mtime":1757542930584,"results":"12","hashOfConfig":"13"},{"size":3554,"mtime":1757374646857,"results":"14","hashOfConfig":"13"},{"size":466,"mtime":1757350269750,"results":"15","hashOfConfig":"13"},{"size":2489,"mtime":1757542901093,"results":"16","hashOfConfig":"13"},{"size":3453,"mtime":1757542901093,"results":"17","hashOfConfig":"13"},{"size":5890,"mtime":1757374643939,"results":"18","hashOfConfig":"13"},{"size":4292,"mtime":1756587783273,"results":"19","hashOfConfig":"13"},{"size":3955,"mtime":1757542901094,"results":"20","hashOfConfig":"13"},{"size":9772,"mtime":1757544962958,"results":"21","hashOfConfig":"13"},{"size":7232,"mtime":1757544958015,"results":"22","hashOfConfig":"13"},{"size":4595,"mtime":1757544969522,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1td1gjo",{"filePath":"26","messages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"28","messages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36"},{"filePath":"37","messages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39"},{"filePath":"40","messages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42"},{"filePath":"43","messages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"45","messages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"47","messages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\Admin\\Desktop\\pomoika vape lab\\frontend\\src\\main.js",[],"C:\\Users\\Admin\\Desktop\\pomoika vape lab\\frontend\\src\\App.vue",[],"C:\\Users\\Admin\\Desktop\\pomoika vape lab\\frontend\\src\\plugins\\vuetify.js",[],"C:\\Users\\Admin\\Desktop\\pomoika vape lab\\frontend\\src\\router\\index.js",[],"C:\\Users\\Admin\\Desktop\\pomoika vape lab\\frontend\\src\\views\\AdminLogin.vue",[],"C:\\Users\\Admin\\Desktop\\pomoika vape lab\\frontend\\src\\views\\PostList.vue",["49","50","51","52"],"<template>\n  <div>\n    <v-container class=\"py-4\">\n      <!-- Компактный заголовок для мини-приложения -->\n      <v-row>\n        <v-col cols=\"12\">\n          <div class=\"mb-4\">\n            <h1 class=\"text-h5 font-weight-medium white--text mb-1\">Новости</h1>\n            <div class=\"text-caption\" style=\"color:#BDB4FF\">Последние публикации</div>\n          </div>\n        </v-col>\n      </v-row>\n\n      <!-- Компактная сетка постов для мини-приложения -->\n      <v-row>\n        <v-col v-for=\"post in posts\" :key=\"post.id\" cols=\"12\">\n          <v-hover v-slot=\"{ hover }\">\n            <v-card\n              :elevation=\"hover ? 4 : 1\"\n              :class=\"{ 'on-hover': hover }\"\n              class=\"mx-auto transition-swing post-card-mini\"\n              color=\"#151226\"\n              @click=\"goToPost(post.id)\"\n            >\n              <v-card-text class=\"pa-3\">\n                <div class=\"d-flex align-start justify-space-between mb-2\">\n                  <h3 class=\"text-subtitle-1 font-weight-medium white--text mb-1\" style=\"line-height: 1.3;\">\n                    {{ post.title }}\n                  </h3>\n                  <v-icon small style=\"color:#BB86FC\">mdi-chevron-right</v-icon>\n                </div>\n                <div class=\"text-body-2 mb-2 post-excerpt-mini\" style=\"color:#D7D2FF\">\n                  {{ post.content }}\n                </div>\n                <div class=\"text-caption\" style=\"color:#A39AE6\">\n                  {{ formatDate(post.published_date) }}\n                </div>\n              </v-card-text>\n            </v-card>\n          </v-hover>\n        </v-col>\n      </v-row>\n\n      <!-- Сообщение об отсутствии постов -->\n      <v-row v-if=\"posts.length === 0 && !loading\" class=\"mt-6\">\n        <v-col cols=\"12\" sm=\"8\" md=\"6\" class=\"mx-auto\">\n          <v-card class=\"text-center pa-6\" flat color=\"#151226\">\n            <h2 class=\"text-h5 font-weight-light mb-2 white--text\">\n              Пока нет опубликованных постов\n            </h2>\n            <p class=\"text-body-1\" style=\"color:#A39AE6\" mb-0>\n              Загляните позже\n            </p>\n          </v-card>\n        </v-col>\n      </v-row>\n\n      <!-- Пагинация -->\n      <v-row v-if=\"totalPages > 1\" class=\"mt-8\">\n        <v-col cols=\"12\" class=\"text-center\">\n          <v-pagination\n            v-model=\"currentPage\"\n            :length=\"totalPages\"\n            :total-visible=\"7\"\n            color=\"#BB86FC\"\n            class=\"custom-pagination\"\n          ></v-pagination>\n        </v-col>\n      </v-row>\n    </v-container>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  name: 'PostList',\n  data() {\n    return {\n      posts: [],\n      currentPage: 1,\n      totalPages: 1,\n      loading: false\n    }\n  },\n  methods: {\n    async fetchPosts() {\n      this.loading = true\n      try {\n        console.log('Fetching posts from:', `/api/posts/?page=${this.currentPage}`)\n        const response = await axios.get(`/api/posts/?page=${this.currentPage}`)\n        console.log('API Response:', response.data)\n        this.posts = response.data.results\n        this.totalPages = Math.ceil(response.data.count / 10)\n      } catch (error) {\n        console.error('Error fetching posts:', error)\n        console.error('Error details:', {\n          message: error.message,\n          response: error.response ? {\n            status: error.response.status,\n            data: error.response.data\n          } : 'No response',\n          config: {\n            url: error.config.url,\n            method: error.config.method,\n            baseURL: error.config.baseURL\n          }\n        })\n        // Показываем ошибку в Telegram\n        if (window.Telegram && window.Telegram.WebApp) {\n          window.Telegram.WebApp.showAlert('Ошибка загрузки данных');\n        }\n      } finally {\n        setTimeout(() => {\n          this.loading = false\n        }, 500)\n      }\n    },\n    formatDate(date) {\n      return new Date(date).toLocaleString('ru-RU', {\n        day: '2-digit',\n        month: '2-digit',\n        year: 'numeric'\n      })\n    },\n    goToPost(postId) {\n      this.$router.push({ name: 'PostDetail', params: { id: postId } });\n    }\n  },\n  watch: {\n    currentPage() {\n      this.fetchPosts()\n    }\n  },\n  created() {\n    this.fetchPosts()\n  },\n  mounted() {\n    // Слушаем событие обновления данных\n    this.$root.$on('refresh-data', () => {\n      this.fetchPosts()\n    })\n  }\n}\n</script>\n\n<style scoped>\n.post-excerpt {\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  line-height: 1.6;\n}\n\n.post-excerpt-mini {\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  line-height: 1.4;\n}\n\n.post-card {\n  transition: all 0.3s ease;\n  border: 1px solid rgba(187, 134, 252, 0.2);\n  border-radius: 12px;\n  background: #151226 !important;\n}\n\n.post-card-mini {\n  transition: all 0.2s ease;\n  border: 1px solid rgba(187, 134, 252, 0.2);\n  border-radius: 8px;\n  background: #151226 !important;\n  cursor: pointer;\n}\n\n.on-hover {\n  transform: translateY(-2px);\n  border-color: #BB86FC;\n  box-shadow: 0 4px 16px rgba(124, 77, 255, 0.15) !important;\n}\n\n.custom-pagination >>> .v-pagination__item {\n  box-shadow: none;\n  border: 1px solid rgba(187, 134, 252, 0.3);\n  border-radius: 8px;\n  background: #151226 !important;\n  color: #BB86FC !important;\n}\n\n.custom-pagination >>> .v-pagination__item--active {\n  background-color: #BB86FC !important;\n  color: #0d0b14 !important;\n}\n\n.v-card {\n  overflow: hidden;\n}\n\n.text-h2 {\n  font-weight: 300 !important;\n  letter-spacing: -0.5px;\n}\n</style> ","C:\\Users\\Admin\\Desktop\\pomoika vape lab\\frontend\\src\\views\\PostDetail.vue",["53"],"<template>\n  <div>\n    <v-container class=\"py-8\">\n      <v-row>\n        <v-col cols=\"12\">\n          <v-btn\n            text\n            color=\"black\"\n            to=\"/\"\n            class=\"mb-8 text-capitalize\"\n            flat\n          >\n            ← Назад\n          </v-btn>\n        </v-col>\n      </v-row>\n\n      <v-row v-if=\"loading\" justify=\"center\" align=\"center\" style=\"min-height: 400px;\">\n        <v-col cols=\"auto\">\n          <v-progress-circular\n            indeterminate\n            color=\"black\"\n            size=\"32\"\n          ></v-progress-circular>\n        </v-col>\n      </v-row>\n\n      <template v-else-if=\"post\">\n        <v-row>\n          <v-col cols=\"12\" lg=\"8\" class=\"mx-auto\">\n            <article>\n              <!-- Заголовок -->\n              <header class=\"mb-8\">\n                <h1 class=\"text-h2 font-weight-light black--text mb-4\">{{ post.title }}</h1>\n                <div class=\"d-flex align-center\">\n                  <span class=\"text-body-2 grey--text\">{{ formatDate(post.published_date) }}</span>\n                  <v-divider vertical class=\"mx-4\"></v-divider>\n                  <span class=\"text-body-2 grey--text\">{{ getReadingTime() }} мин. чтения</span>\n                </div>\n              </header>\n\n              <!-- Содержание -->\n              <div class=\"post-content\">\n                <div class=\"text-body-1 grey--text text--darken-2\">{{ post.content }}</div>\n              </div>\n\n              <!-- Действия -->\n              <footer class=\"mt-8 pt-4 border-top\">\n                <v-btn\n                  text\n                  color=\"black\"\n                  @click=\"sharePost\"\n                  class=\"text-capitalize\"\n                >\n                  Поделиться\n                </v-btn>\n              </footer>\n            </article>\n          </v-col>\n        </v-row>\n      </template>\n\n      <v-row v-else justify=\"center\">\n        <v-col cols=\"12\" sm=\"8\" md=\"6\" class=\"mx-auto\">\n          <v-card\n            class=\"text-center pa-6\"\n            flat\n          >\n            <h2 class=\"text-h5 font-weight-light mb-2 black--text\">\n              Пост не найден\n            </h2>\n            <p class=\"text-body-1 grey--text mb-4\">\n              Возможно, он был удален или перемещен.\n            </p>\n            <v-btn\n              color=\"black\"\n              to=\"/\"\n              class=\"text-capitalize\"\n              outlined\n            >\n              Вернуться на главную\n            </v-btn>\n          </v-card>\n        </v-col>\n      </v-row>\n    </v-container>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  name: 'PostDetail',\n  props: {\n    id: {\n      type: [String, Number],\n      required: true\n    }\n  },\n  data() {\n    return {\n      post: null,\n      loading: false\n    }\n  },\n  methods: {\n    async fetchPost() {\n      this.loading = true\n      try {\n        const response = await axios.get(`/api/posts/${this.id}/`)\n        this.post = response.data\n      } catch (error) {\n        console.error('Error fetching post:', error)\n        this.post = null\n      } finally {\n        setTimeout(() => {\n          this.loading = false\n        }, 500)\n      }\n    },\n    formatDate(date) {\n      return new Date(date).toLocaleString('ru-RU', {\n        day: '2-digit',\n        month: '2-digit',\n        year: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      })\n    },\n    getReadingTime() {\n      if (!this.post?.content) return 1\n      const words = this.post.content.trim().split(/\\s+/).length\n      return Math.max(1, Math.ceil(words / 200))\n    },\n    sharePost() {\n      if (navigator.share) {\n        navigator.share({\n          title: this.post.title,\n          text: this.post.content.substring(0, 100) + '...',\n          url: window.location.href\n        })\n      }\n    }\n  },\n  created() {\n    this.fetchPost()\n  }\n}\n</script>\n\n<style scoped>\n.post-content {\n  line-height: 1.8;\n  white-space: pre-line;\n}\n\n.text-h2 {\n  font-weight: 300 !important;\n  letter-spacing: -0.5px;\n}\n\n.border-top {\n  border-top: 1px solid #e0e0e0;\n}\n\n.v-progress-circular {\n  position: relative;\n}\n\n.v-card {\n  border: 1px solid #e0e0e0;\n  border-radius: 0;\n}\n</style> ","C:\\Users\\Admin\\Desktop\\pomoika vape lab\\frontend\\src\\views\\AdminLayout.vue",["54"],"<template>\r\n  <v-app>\r\n    <v-navigation-drawer\r\n      v-model=\"drawer\"\r\n      :mini-variant=\"miniVariant\"\r\n      :clipped=\"clipped\"\r\n      fixed\r\n      app\r\n    >\r\n      <v-list>\r\n        <v-list-item\r\n          v-for=\"(item, i) in items\"\r\n          :key=\"i\"\r\n          :to=\"item.to\"\r\n          router\r\n          exact\r\n        >\r\n          <v-list-item-action>\r\n            <v-icon>{{ item.icon }}</v-icon>\r\n          </v-list-item-action>\r\n          <v-list-item-content>\r\n            <v-list-item-title v-text=\"item.title\" />\r\n          </v-list-item-content>\r\n        </v-list-item>\r\n      </v-list>\r\n    </v-navigation-drawer>\r\n\r\n    <v-app-bar\r\n      :clipped-left=\"clipped\"\r\n      fixed\r\n      app\r\n    >\r\n      <v-app-bar-nav-icon @click.stop=\"drawer = !drawer\" />\r\n      <v-btn\r\n        icon\r\n        @click.stop=\"miniVariant = !miniVariant\"\r\n      >\r\n        <v-icon>mdi-{{ `chevron-${miniVariant ? 'right' : 'left'}` }}</v-icon>\r\n      </v-btn>\r\n      <v-btn\r\n        icon\r\n        @click.stop=\"clipped = !clipped\"\r\n      >\r\n        <v-icon>mdi-application</v-icon>\r\n      </v-btn>\r\n      <v-toolbar-title v-text=\"title\" />\r\n      <v-spacer />\r\n      <v-menu offset-y>\r\n        <template v-slot:activator=\"{ on, attrs }\">\r\n          <v-btn\r\n            icon\r\n            v-bind=\"attrs\"\r\n            v-on=\"on\"\r\n          >\r\n            <v-icon>mdi-account-circle</v-icon>\r\n          </v-btn>\r\n        </template>\r\n        <v-list>\r\n          <v-list-item>\r\n            <v-list-item-content>\r\n              <v-list-item-title>{{ currentUser.username }}</v-list-item-title>\r\n              <v-list-item-subtitle>{{ currentUser.email }}</v-list-item-subtitle>\r\n            </v-list-item-content>\r\n          </v-list-item>\r\n          <v-divider></v-divider>\r\n          <v-list-item @click=\"logout\">\r\n            <v-list-item-icon>\r\n              <v-icon>mdi-logout</v-icon>\r\n            </v-list-item-icon>\r\n            <v-list-item-content>\r\n              <v-list-item-title>Выйти</v-list-item-title>\r\n            </v-list-item-content>\r\n          </v-list-item>\r\n        </v-list>\r\n      </v-menu>\r\n    </v-app-bar>\r\n\r\n    <v-main>\r\n      <v-container fluid>\r\n        <router-view />\r\n      </v-container>\r\n    </v-main>\r\n\r\n    <v-footer :absolute=\"!fixed\" app>\r\n      <span>&copy; {{ new Date().getFullYear() }} Pomoika Vape Lab Admin</span>\r\n    </v-footer>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'AdminLayout',\r\n  data() {\r\n    return {\r\n      clipped: false,\r\n      drawer: false,\r\n      fixed: false,\r\n      currentUser: {\r\n        username: '',\r\n        email: ''\r\n      },\r\n      items: [\r\n        {\r\n          icon: 'mdi-view-dashboard',\r\n          title: 'Панель управления',\r\n          to: '/admin'\r\n        },\r\n        {\r\n          icon: 'mdi-post',\r\n          title: 'Посты',\r\n          to: '/admin/posts'\r\n        },\r\n        {\r\n          icon: 'mdi-account-group',\r\n          title: 'Пользователи',\r\n          to: '/admin/users'\r\n        }\r\n      ],\r\n      miniVariant: false,\r\n      right: true,\r\n      rightDrawer: false,\r\n      title: 'Админка'\r\n    }\r\n  },\r\n  methods: {\r\n    logout() {\r\n      localStorage.removeItem('admin_user')\r\n      localStorage.removeItem('is_admin')\r\n      localStorage.removeItem('admin_token')\r\n      this.$router.push('/admin/login')\r\n    },\r\n    loadUserData() {\r\n      const userData = localStorage.getItem('admin_user')\r\n      if (userData) {\r\n        try {\r\n          this.currentUser = JSON.parse(userData)\r\n        } catch (error) {\r\n          console.error('Ошибка загрузки данных пользователя:', error)\r\n          this.logout()\r\n        }\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    // Проверяем авторизацию\r\n    if (localStorage.getItem('is_admin') !== 'true') {\r\n      this.$router.push('/admin/login')\r\n    } else {\r\n      this.loadUserData()\r\n    }\r\n  }\r\n}\r\n</script>\r\n","C:\\Users\\Admin\\Desktop\\pomoika vape lab\\frontend\\src\\views\\AdminPosts.vue",["55","56","57","58"],"C:\\Users\\Admin\\Desktop\\pomoika vape lab\\frontend\\src\\views\\AdminDashboard.vue",["59"],"C:\\Users\\Admin\\Desktop\\pomoika vape lab\\frontend\\src\\views\\AdminUsers.vue",["60","61"],{"ruleId":"62","severity":1,"message":"63","line":91,"column":9,"nodeType":"64","messageId":"65","endLine":91,"endColumn":20},{"ruleId":"62","severity":1,"message":"63","line":93,"column":9,"nodeType":"64","messageId":"65","endLine":93,"endColumn":20},{"ruleId":"62","severity":1,"message":"63","line":97,"column":9,"nodeType":"64","messageId":"65","endLine":97,"endColumn":22},{"ruleId":"62","severity":1,"message":"63","line":98,"column":9,"nodeType":"64","messageId":"65","endLine":98,"endColumn":22},{"ruleId":"62","severity":1,"message":"63","line":114,"column":9,"nodeType":"64","messageId":"65","endLine":114,"endColumn":22},{"ruleId":"62","severity":1,"message":"63","line":138,"column":11,"nodeType":"64","messageId":"65","endLine":138,"endColumn":24},{"ruleId":"62","severity":1,"message":"63","line":183,"column":9,"nodeType":"64","messageId":"65","endLine":183,"endColumn":22},{"ruleId":"62","severity":1,"message":"63","line":238,"column":9,"nodeType":"64","messageId":"65","endLine":238,"endColumn":22},{"ruleId":"62","severity":1,"message":"63","line":274,"column":9,"nodeType":"64","messageId":"65","endLine":274,"endColumn":22},{"ruleId":"62","severity":1,"message":"63","line":289,"column":9,"nodeType":"64","messageId":"65","endLine":289,"endColumn":22},{"ruleId":"62","severity":1,"message":"63","line":207,"column":9,"nodeType":"64","messageId":"65","endLine":207,"endColumn":22},{"ruleId":"62","severity":1,"message":"63","line":109,"column":9,"nodeType":"64","messageId":"65","endLine":109,"endColumn":22},{"ruleId":"62","severity":1,"message":"63","line":127,"column":11,"nodeType":"64","messageId":"65","endLine":127,"endColumn":24},"no-console","Unexpected console statement.","MemberExpression","unexpected"]